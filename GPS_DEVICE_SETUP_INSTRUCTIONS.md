# ๐ฑ ุฏููู ุฅุนุฏุงุฏ ุฌูุงุฒ GPS - ุฎุทูุฉ ุจุฎุทูุฉ

## ุงููุดููุฉ ุงูุญุงููุฉ
ุฌูุงุฒ GPS ุงูุฎุงุต ุจู ูุฑุณู **HEAD / HTTP/1.1** ููุท (health check) ุจุฏูู ุจูุงูุงุช GPS.
ูุฐุง ูุนูู ุฃู ุงูุฌูุงุฒ ูุชุตู ุจุงูุณูุฑูุฑ โ ูููู ูู ูุชู ุฅุนุฏุงุฏู ูุฅุฑุณุงู ุจูุงูุงุช ุงููููุน โ

## ุงูุญู: ุฅุนุฏุงุฏ ุฌูุงุฒ GPS

### ุงูุฎุทูุฉ 1๏ธโฃ: ุชุญุฏูุฏ ููุน ุฌูุงุฒู
ูู ุงูู logs ูุฑู:
- **User-Agent**: `Go-http-client/1.1`
- **Protocol**: HTTP HEAD requests
- **Device Type**: GT06 (ููุง ูู ูุณุฌู ูู ุงููุธุงู)

### ุงูุฎุทูุฉ 2๏ธโฃ: ุทุฑู ุงูุฅุนุฏุงุฏ

#### ุฃ) ุนุจุฑ SMS (ุงูุทุฑููุฉ ุงูุฃูุซุฑ ุดููุนุงู)

ุฃุฑุณู SMS ุฅูู ุฑูู SIM ุงูููุฌูุฏ ูู ุฌูุงุฒ GPS:

**1. ุฅุนุฏุงุฏ Server:**
```
server#fleet-admin.onrender.com#5023#
```
ุฃู
```
adminip#fleet-admin.onrender.com#5023#
```

**2. ุฅุนุฏุงุฏ APN (ููุงุชุตุงู ุจุงูุฅูุชุฑูุช):**
```
apn#internet#
```
ุฃู ุญุณุจ ูุฒูุฏ ุงูุฎุฏูุฉ:
- Orange: `apn#internet.orange.ma#`
- Maroc Telecom: `apn#internet.ma#`
- Inwi: `apn#www.inwi.ma#`

**3. ุฅุนุฏุงุฏ Reporting Interval:**
```
timer#30#
```
(ูุฑุณู ุงูุจูุงูุงุช ูู 30 ุซุงููุฉ)

**4. ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฌูุงุฒ:**
```
reset#
```

#### ุจ) ุนุจุฑ ุชุทุจูู ุงูุฌูุงู

1. ุงูุชุญ ุชุทุจูู GPS tracker (ุนุงุฏุฉ ุงุณูู GT06 ุฃู TrackSolid ุฃู ูุดุงุจู)
2. ุงุฐูุจ ุฅูู **Settings** ุฃู **ุฅุนุฏุงุฏุงุช**
3. ุฃุฏุฎู:
   - **Server Domain**: `fleet-admin.onrender.com`
   - **Server Port**: `5023`
   - **Protocol**: TCP ุฃู HTTP
   - **Interval**: 30 seconds

#### ุฌ) ุนุจุฑ GPRS Commands

ุฅุฐุง ูุงู ุฌูุงุฒู ูุฏุนู GPRS commands ุนุจุฑ SMS:

```
# ุฅุนุฏุงุฏ Server
SERVER,1,fleet-admin.onrender.com,5023,0#

# ุฅุนุฏุงุฏ APN
APN,internet#

# ุฅุนุฏุงุฏ Upload Interval
TIMER,30#

# ุญูุธ ุงูุฅุนุฏุงุฏุงุช
SAVE#
```

### ุงูุฎุทูุฉ 3๏ธโฃ: ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏ

ุจุนุฏ ุงูุฅุนุฏุงุฏุ ูุฌุจ ุฃู ุชุฑู ูู Render Logs:

**โ ุฅุฐุง ูุฌุญ ุงูุฅุนุฏุงุฏ:**
```
GPS GET request received: { id: '28208996', lat: '33.5731', lon: '-7.5898', ... }
Processing GPS data from GET: { device_id: '28208996', latitude: 33.5731, ... }
GPS data processed for device 28208996
```

**โ ุฅุฐุง ูู ููุฌุญ (ุงููุถุน ุงูุญุงูู):**
```
HEAD request received
Query params: {}
HEAD HTTP request has no GPS data (might be health check)
```

### ุงูุฎุทูุฉ 4๏ธโฃ: ุงุณุชุฎุฏุงู HTTP GET ุจุฏูุงู ูู TCP

ุจุนุถ ุงูุฃุฌูุฒุฉ ุชุนูู ุฃูุถู ูุน HTTP. ุฌุฑุจ ูุฐุง ุงูุฅุนุฏุงุฏ:

**ุนุจุฑ SMS:**
```
url#https://fleet-admin.onrender.com/gps?id=28208996&lat={lat}&lon={lon}&speed={speed}#
```

ุฃู
```
server#fleet-admin.onrender.com#443#
protocol#http#
```

## ๐ ุชุดุฎูุต ุงููุดุงูู

### ุงููุดููุฉ: ุงูุฌูุงุฒ ูุฑุณู HEAD ููุท
**ุงูุญู:**
1. ุชุฃูุฏ ูู ุฅุนุฏุงุฏ APN ุจุดูู ุตุญูุญ
2. ุชุฃูุฏ ูู ูุฌูุฏ ุฑุตูุฏ ูู SIM card
3. ุชุฃูุฏ ูู ุชูุนูู GPRS/Data ูู SIM
4. ุฌุฑุจ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฌูุงุฒ

### ุงููุดููุฉ: ูุง ุชูุฌุฏ ุจูุงูุงุช ูู Query Params
**ุงูุญู:**
1. ุงูุฌูุงุฒ ูุฏ ูุญุชุงุฌ ุฅุนุฏุงุฏ URL template ูุญุฏุฏ
2. ุฌุฑุจ ุชุบููุฑ Protocol ูู TCP ุฅูู HTTP
3. ุชุญูู ูู ุฏููู ุฌูุงุฒู ููู URL format ุงูุตุญูุญ

### ุงููุดููุฉ: Device ID ูุง ูุทุงุจู
**ุงูุญู:**
1. ุฑุงูุจ ุงูู logs ููุนุฑูุฉ device_id ุงูุฐู ูุฑุณูู ุงูุฌูุงุฒ
2. ุญุฏูุซ device_id ูู ุตูุญุฉ GPS Devices ููุทุงุจู ูุง ูุฑุณูู ุงูุฌูุงุฒ

## ๐ ูุนูููุงุช ุฅุถุงููุฉ

### ุฃูุงูุฑ SMS ูููุฏุฉ:

```
# ุงูุชุญูู ูู ุญุงูุฉ ุงูุฌูุงุฒ
status#

# ุงูุชุญูู ูู ุฅุนุฏุงุฏุงุช Server
param#

# ุงูุชุญูู ูู ุฑุตูุฏ GPRS
gprs#

# ุฅุนุงุฏุฉ ุถุจุท ุงููุตูุน (ุงุญุฐุฑ!)
factory#
```

### URLs ุงูุจุฏููุฉ ููุงุฎุชุจุงุฑ:

ุฅุฐุง ูู ูุนูู TCPุ ุฌุฑุจ ูุฐู ุงูู URLs:

**HTTP GET:**
```
https://fleet-admin.onrender.com/gps?id=DEVICE_ID&lat=LAT&lon=LON&speed=SPEED
```

**HTTP POST:**
```
URL: https://fleet-admin.onrender.com/gps/update
Method: POST
Body: {"device_id":"DEVICE_ID","latitude":LAT,"longitude":LON,"speed":SPEED}
```

## ๐ ุงููุณุงุนุฏุฉ

ุฅุฐุง ุฌุฑุจุช ูู ูุฐู ุงูุฎุทูุงุช ููู ููุฌุญ:

1. **ุฃุฎุจุฑูู ุจููุน/ููุฏูู ุงูุฌูุงุฒ ุจุงูุถุจุท** (ูุซุงู: GT06N, TK103B, etc.)
2. **ุฃุฑุณู ูู ุฏููู ุงููุณุชุฎุฏู** ุฅุฐุง ูุงู ูุชููุฑุงู
3. **ุฌุฑุจ ุงูุงุชุตุงู ุจุงูุฏุนู ุงูููู** ููุฌูุงุฒ ููุญุตูู ุนูู ุงูุฃูุงูุฑ ุงูุตุญูุญุฉ

## โ ุงูุฎุทูุงุช ุงูุชุงููุฉ ุจุนุฏ ูุฌุงุญ ุงูุฅุนุฏุงุฏ

ุนูุฏูุง ุชุจุฏุฃ ุงูุจูุงูุงุช ุจุงููุตูู:

1. โ ุงูุญุงูุฉ ุณุชุชุบูุฑ ูู **pending** ุฅูู **active**
2. โ ุณูุธูุฑ **Last connection** ุจุงูุชุงุฑูุฎ ูุงูููุช
3. โ ุณุชุธูุฑ ุงูุจูุงูุงุช ูู ุตูุญุฉ **GPS & Zones**
4. โ ููููู ุชุชุจุน ุงูุณูุงุฑุฉ ูู ุงูููุช ุงููุนูู

---

**ููุงุญุธุฉ:** ูุนุธู ุฃุฌูุฒุฉ GT06 ุชุณุชุฎุฏู ุฃูุงูุฑ SMS. ุชุญูู ูู ุฏููู ุฌูุงุฒู ููุฃูุงูุฑ ุงูุฏูููุฉ.
